<frame pos="-80 80" size="160 160" z-index="999">
    <quad pos="0 0" size="160 160"  bgcolor="101010EE"/>
    <quad pos="149 0" z-index="999" size="10 10" style="Icons128x32_1" substyle="Close" scriptevents="1" action="{{ id }}__ui_hide_board"/>
    {% for n in range(64) %}
        <quad pos="{{ loop.index0 % 8 * 20 }} {{ ((loop.index0 / 8) | int) * -20 }}" size="20 20" bgcolor="{{ 'FFFFFFAA' if loop.index0 % 2 == 0 and ((loop.index0 / 8) | int) % 2 == 0 or loop.index0 % 2 == 1 and ((loop.index0 / 8) | int) % 2 == 1 else '00AA00AA' }}"/>
    {% endfor %}

    {% for piece in pieces %}
        <quad z-index="100" pos="{{ piece.x * 20 }} {{ -140 + piece.y * 20 }}"  size="20 20" image="http://buddaphest.se/resources/chess/{{ piece.team.value | lower }}_{{ piece.__class__.__name__ | lower }}.png" autoscale="1" keepratio="Fit" action="{{ id }}__ui_display_piece_moves_{{ piece.x }}_{{ piece.y }}"/>
    {% endfor %}
    {% for white_move in white_moves %}
        <quad z-index="150" pos="{{ white_move.0 * 20 }} {{ -140 + white_move.1 * 20 }}"  size="20 20" image="http://buddaphest.se/resources/chess/dot.png" autoscale="1" keepratio="Fit" action="{{ id }}__ui_move_piece_{{ white_move.0 }}_{{ white_move.1 }}"/>
    {% endfor %}
    {% for black_move in black_moves %}
        <quad z-index="150" pos="{{ black_move.0 * 20 }} {{ -140 + black_move.1 * 20 }}"  size="20 20" image="http://buddaphest.se/resources/chess/dot.png" autoscale="1" keepratio="Fit" action="{{ id }}__ui_move_piece_{{ black_move.0 }}_{{ black_move.1 }}"/>
    {% endfor %}
</frame>
